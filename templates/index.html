<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AES-256 & LSB Crypto</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div class="container">
        <header>
            <h1>ðŸ”’ Sistem Kriptografi PDF</h1>
            <p>Kombinasi AES-256 (Security) + LSB (Steganography)</p>
        </header>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <div class="tabs">
            <button class="tab-btn active" onclick="openTab(event, 'encrypt-tab')">ðŸ“¤ Pengirim (Enkripsi)</button>
            <button class="tab-btn" onclick="openTab(event, 'decrypt-tab')">ðŸ“¥ Penerima (Dekripsi)</button>
        </div>

        <div id="encrypt-tab" class="tab-content active">
            <form action="/encrypt" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label>1. Upload PDF Rahasia</label>
                    <input type="file" name="pdf_file" accept=".pdf" required>
                </div>
                <div class="form-group">
                    <label>2. Upload Gambar Cover (PNG/JPG)</label>
                    <input type="file" name="cover_image" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label>3. Masukkan Password</label>
                    <input type="password" name="password" placeholder="Kunci rahasia..." required>
                </div>
                <button type="submit" class="btn-primary">ðŸ”’ Proses & Download</button>
            </form>
        </div>

        <div id="decrypt-tab" class="tab-content">
            <form action="/decrypt" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label>1. Upload Gambar Stego (Hasil)</label>
                    <input type="file" name="stego_image" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label>2. Masukkan Password Pembuka</label>
                    <input type="password" name="password" placeholder="Password yang sama..." required>
                </div>
                <button type="submit" class="btn-secondary">ðŸ”“ Buka & Download PDF</button>
            </form>
        </div>
        
        <footer>
            &copy; 2026 Kelompok Kriptografi - Universitas Muhammadiyah Riau
        </footer>
    </div>

    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tab-btn");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script>
</body>
</html>